{"ast":null,"code":"var _jsxFileName = \"/home/veleswaran/Documents/harini-altalya/mongodb/project/src/component/post/Show.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport './Show.css';\nimport apiUrl from \"../../apiConfig\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Show() {\n  _s();\n  let [users, setusers] = useState([]);\n  const route = useNavigate();\n  async function getusers() {\n    try {\n      let res = await axios.get(`${apiUrl}/post`);\n      console.log(res.data);\n      setusers(res.data);\n    } catch (error) {\n      console.error(\"Error fetching posts:\", error);\n    }\n  }\n  async function handleDelete(postid) {\n    try {\n      let res = await axios.delete(`${apiUrl}/post/${postid}`);\n      console.log(res.data);\n      getusers();\n    } catch (error) {\n      console.error(\"Error deleting post:\", error);\n    }\n  }\n  useEffect(() => {\n    getusers();\n  }, []);\n  async function handleUpdate(id) {\n    localStorage.setItem(\"id\", id);\n    route(\"/edit\");\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" container mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \" container \",\n        children: \"Posts Table\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped responsive\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \" Userid\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \" Upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \" Content\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \" Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: users.map(val => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: val._id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: val.uploadtype === \"video\" ? /*#__PURE__*/_jsxDEV(\"iframe\", {\n                width: \"200px\",\n                height: \"100%\",\n                src: val.upload,\n                frameBorder: \"0\",\n                allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\",\n                referrerPolicy: \"strict-origin-when-cross-origin\",\n                allowFullScree: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 68\n              }, this) : val.uploadtype === \"image\" ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: val.upload,\n                height: \"150px\",\n                width: \"200px\",\n                alt: \"Uploaded content\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 71\n              }, this) : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: val.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger mx-3\",\n                onClick: () => handleDelete(val._id),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa-solid fa-trash\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 115\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: () => handleUpdate(val._id),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa-solid fa-pen\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 111\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 33\n            }, this)]\n          }, val._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(Show, \"eCCw7yMaeUSQkKYeWaBCOYFQJRY=\", false, function () {\n  return [useNavigate];\n});\n_c = Show;\nvar _c;\n$RefreshReg$(_c, \"Show\");","map":{"version":3,"names":["axios","useEffect","useState","useNavigate","apiUrl","jsxDEV","_jsxDEV","Fragment","_Fragment","Show","_s","users","setusers","route","getusers","res","get","console","log","data","error","handleDelete","postid","delete","handleUpdate","id","localStorage","setItem","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","val","_id","uploadtype","width","height","src","upload","frameBorder","allow","referrerPolicy","allowFullScree","alt","content","onClick","class","_c","$RefreshReg$"],"sources":["/home/veleswaran/Documents/harini-altalya/mongodb/project/src/component/post/Show.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport './Show.css';\nimport apiUrl from \"../../apiConfig\";\n\nexport default function Show() {\n    let [users, setusers] = useState([]);\n    const route = useNavigate();\n\n    async function getusers() {\n        try {\n            let res = await axios.get(`${apiUrl}/post`);\n            console.log(res.data);\n            setusers(res.data);\n        } catch (error) {\n            console.error(\"Error fetching posts:\", error);\n        }\n    }\n\n    async function handleDelete(postid) {\n        try {\n            let res = await axios.delete(`${apiUrl}/post/${postid}`);\n            console.log(res.data);\n            getusers();\n        } catch (error) {\n            console.error(\"Error deleting post:\", error);\n        }\n    }\n\n    useEffect(() => {\n        getusers();\n    }, []);\n\n    async function handleUpdate(id) {\n        localStorage.setItem(\"id\", id)\n        route(\"/edit\")\n\n    }\n\n    return (\n        <>\n            <div className=\" container mb-4\">\n                <h2 className=\" container \">Posts Table</h2>\n                  <table className=\"table table-striped responsive\">\n                    <thead>\n                        <tr>\n                            <th> Userid</th>\n                            <th> Upload</th>\n                            <th> Content</th>\n                            <th> Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n\n                        {users.map((val) =>\n                            <tr key={val._id}>\n                                <td>{val._id}</td>\n                                <td>\n                                    {val.uploadtype === \"video\" ? (<iframe width=\"200px\" height=\"100%\" src={val.upload} frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerPolicy=\"strict-origin-when-cross-origin\" allowFullScree ></iframe>\n                                    ) : val.uploadtype === \"image\" ? (<img src={val.upload} height=\"150px\" width=\"200px\" alt=\"Uploaded content\" />) : (\"\")}\n                                </td>\n                                <td>{val.content}</td>\n                                <td>\n                                    <button className=\"btn btn-danger mx-3\" onClick={() => handleDelete(val._id)}><i class=\"fa-solid fa-trash\"></i></button>\n                                    <button className=\"btn btn-primary\" onClick={() => handleUpdate(val._id)}><i class=\"fa-solid fa-pen\"></i></button>\n                                </td>\n\n                            </tr>\n                        )}\n\n                    </tbody>\n                </table>\n            </div>\n        </>\n    )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}